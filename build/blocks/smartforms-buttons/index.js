(()=>{"use strict";var e,t={136:()=>{const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.components,l=window.wp.element,s=window.ReactJSXRuntime,n=[{label:"Option 1",value:"option-1"},{label:"Option 2",value:"option-2"}];(0,e.registerBlockType)("smartforms/buttons",{edit:({attributes:e,setAttributes:a,clientId:i})=>{const{label:u,required:p,helpText:c,options:m,groupId:d,multiple:f,currentAnswer:h}=e,b=(0,o.useBlockProps)({"data-required":p?"true":"false","data-multiple":f?"true":"false","data-help-text":c}),[v,x]=(0,l.useState)(!1),[w,g]=(0,l.useState)(""),y=f?"Select one or more options":"Select one option";return(0,l.useEffect)((()=>{d||a({groupId:`sf-buttons-${i}`}),m&&Array.isArray(m)&&0!==m.length||a({options:n})}),[d,m,i,a]),(0,l.useEffect)((()=>{v||""!==c||a({helpText:y}),g(y)}),[]),(0,l.useEffect)((()=>{v&&c!==w||a({helpText:y}),g(y)}),[f,y,c,v,a]),(0,s.jsxs)("div",{...b,children:[(0,s.jsxs)(o.InspectorControls,{children:[(0,s.jsxs)(r.PanelBody,{title:(0,t.__)("Button Group Settings","smartforms"),children:[(0,s.jsx)(r.ToggleControl,{label:(0,t.__)("Required","smartforms"),checked:p,onChange:e=>a({required:e})}),(0,s.jsx)(r.ToggleControl,{label:(0,t.__)("Allow Multiple Selections","smartforms"),checked:f,onChange:e=>a({multiple:e,currentAnswer:e?[]:""})}),(0,s.jsx)(r.TextControl,{label:(0,t.__)("Help Text","smartforms"),value:c,onChange:e=>{a({helpText:e}),x(!0)},placeholder:(0,t.__)("Enter custom help text (leave blank for default)","smartforms")})]}),(0,s.jsxs)(r.PanelBody,{title:(0,t.__)("Button Options","smartforms"),initialOpen:!0,children:[m.map(((e,o)=>(0,s.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,s.jsx)(r.TextControl,{label:`${(0,t.__)("Option","smartforms")} ${o+1}`,value:e.label,onChange:e=>((e,t)=>{const o=m.map(((o,r)=>r===e?{label:t,value:t.toLowerCase().replace(/\s+/g,"-")}:o));a({options:o})})(o,e)}),(0,s.jsx)(r.Button,{isSecondary:!0,onClick:()=>(e=>{const t=m.filter(((t,o)=>o!==e));a({options:t})})(o),isSmall:!0,children:(0,t.__)("Remove Option","smartforms")})]},o))),(0,s.jsx)(r.Button,{isPrimary:!0,onClick:()=>{let e=0;m.forEach((t=>{const o=t.label.match(/^Option (\d+)$/);if(o){const t=parseInt(o[1],10);t>e&&(e=t)}}));const t=`Option ${e+1}`,o=t.toLowerCase().replace(/\s+/g,"-"),r=[...m,{label:t,value:o}];a({options:r})},children:(0,t.__)("Add Option","smartforms")})]})]}),(0,s.jsx)(o.RichText,{tagName:"label",className:"sf-buttons-main-label",value:u,onChange:e=>a({label:e}),placeholder:(0,t.__)("Type your question hereâ€¦","smartforms")}),(0,s.jsx)("div",{className:"sf-buttons-group","data-group-id":d,children:m.map(((e,t)=>(0,s.jsx)("button",{type:"button",className:"btn btn-primary "+(f?Array.isArray(h)&&h.includes(e.value)?"active":"":h===e.value?"active":""),"data-value":e.value,onClick:()=>{if(f){let t=Array.isArray(h)?[...h]:[];t.includes(e.value)?t=t.filter((t=>t!==e.value)):t.push(e.value),a({currentAnswer:t})}else a({currentAnswer:e.value})},children:e.label},t)))}),(0,s.jsx)("p",{className:"sf-buttons-help-text",style:{color:"#999"},children:""===c?f?"Select one or more options":"Select one option":c})]})}})}},o={};function r(e){var l=o[e];if(void 0!==l)return l.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,o,l,s)=>{if(!o){var n=1/0;for(p=0;p<e.length;p++){for(var[o,l,s]=e[p],a=!0,i=0;i<o.length;i++)(!1&s||n>=s)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(a=!1,s<n&&(n=s));if(a){e.splice(p--,1);var u=l();void 0!==u&&(t=u)}}return t}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[o,l,s]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={521:0,173:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var l,s,[n,a,i]=o,u=0;if(n.some((t=>0!==e[t]))){for(l in a)r.o(a,l)&&(r.m[l]=a[l]);if(i)var p=i(r)}for(t&&t(o);u<n.length;u++)s=n[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(p)},o=globalThis.webpackChunksmartforms=globalThis.webpackChunksmartforms||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=r.O(void 0,[173],(()=>r(136)));l=r.O(l)})();