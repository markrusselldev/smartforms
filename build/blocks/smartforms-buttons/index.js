(()=>{"use strict";var e,r={235:()=>{const e=window.wp.blocks,r=window.wp.i18n,t=window.wp.blockEditor,l=window.wp.components,o=window.wp.element,s=window.ReactJSXRuntime,n=[{label:"Option 1",value:"option-1"},{label:"Option 2",value:"option-2"}];(0,e.registerBlockType)("smartforms/buttons",{edit:({attributes:e,setAttributes:a,clientId:i})=>{const{label:u,helpText:p,required:c,options:d,groupId:m,multiple:b}=e,h=(0,t.useBlockProps)();return(0,o.useEffect)((()=>{m||a({groupId:`sf-buttons-${i}`}),d&&Array.isArray(d)&&0!==d.length||a({options:n})}),[m,d,i,a]),(0,s.jsxs)("div",{...h,children:[(0,s.jsxs)(t.InspectorControls,{children:[(0,s.jsxs)(l.PanelBody,{title:(0,r.__)("Button Group Settings","smartforms"),children:[(0,s.jsx)(l.ToggleControl,{label:(0,r.__)("Required","smartforms"),checked:c,onChange:e=>a({required:e})}),(0,s.jsx)(l.TextControl,{label:(0,r.__)("Help Text","smartforms"),value:p,onChange:e=>a({helpText:e}),placeholder:(0,r.__)("Enter your help text","smartforms")}),(0,s.jsx)(l.ToggleControl,{label:(0,r.__)("Allow multiple selections","smartforms"),checked:b,onChange:e=>a({multiple:e,currentAnswer:e?[]:null})})]}),(0,s.jsxs)(l.PanelBody,{title:(0,r.__)("Button Options","smartforms"),initialOpen:!0,children:[d.map(((e,t)=>(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(l.TextControl,{label:`${(0,r.__)("Option","smartforms")} ${t+1}`,value:e.label,onChange:e=>((e,r)=>{const t=d.map(((t,l)=>l===e?{label:r,value:r.toLowerCase().replace(/\s+/g,"-")}:t));a({options:t})})(t,e)}),(0,s.jsx)(l.Button,{isSecondary:!0,onClick:()=>(e=>{const r=d.filter(((r,t)=>t!==e));a({options:r})})(t),isSmall:!0,children:(0,r.__)("Remove Option","smartforms")})]},t))),(0,s.jsx)(l.Button,{isPrimary:!0,onClick:()=>{let e=0;d.forEach((r=>{const t=r.label.match(/^Option (\d+)$/);if(t){const r=parseInt(t[1],10);r>e&&(e=r)}}));const r=`Option ${e+1}`,t=r.toLowerCase().replace(/\s+/g,"-"),l=[...d,{label:r,value:t}];a({options:l})},children:(0,r.__)("Add Option","smartforms")})]})]}),(0,s.jsx)(t.RichText,{tagName:"label",className:"sf-buttons-main-label",value:u,onChange:e=>a({label:e}),placeholder:(0,r.__)("Type your question here...","smartforms")}),(0,s.jsx)("div",{className:"sf-buttons-group d-flex flex-wrap gap-2",role:"group","data-group-id":m,children:d.map(((r,t)=>{let l=!1;return l=b?Array.isArray(e.currentAnswer)&&e.currentAnswer.includes(r.value):e.currentAnswer===r.value,(0,s.jsx)("button",{type:"button",className:"btn btn-primary "+(l?"active":""),"data-value":r.value,onClick:()=>{if(b){let t=Array.isArray(e.currentAnswer)?[...e.currentAnswer]:[];t.includes(r.value)?t=t.filter((e=>e!==r.value)):t.push(r.value),a({currentAnswer:t})}else a({currentAnswer:r.value})},children:r.label},t)}))})]})},save:({attributes:e})=>{const{label:r,options:l,required:o,groupId:n}=e,a=t.useBlockProps.save();return(0,s.jsxs)("div",{...a,children:[(0,s.jsx)("label",{className:"sf-buttons-main-label",children:r}),(0,s.jsx)("div",{className:"sf-buttons-group d-flex flex-wrap gap-2",role:"group","data-group-id":n,children:l.map(((e,r)=>(0,s.jsx)("button",{type:"button",className:"btn btn-primary","data-value":e.value,children:e.label},r)))}),(0,s.jsx)("input",{type:"hidden",name:n,required:o})]})}})}},t={};function l(e){var o=t[e];if(void 0!==o)return o.exports;var s=t[e]={exports:{}};return r[e](s,s.exports,l),s.exports}l.m=r,e=[],l.O=(r,t,o,s)=>{if(!t){var n=1/0;for(p=0;p<e.length;p++){for(var[t,o,s]=e[p],a=!0,i=0;i<t.length;i++)(!1&s||n>=s)&&Object.keys(l.O).every((e=>l.O[e](t[i])))?t.splice(i--,1):(a=!1,s<n&&(n=s));if(a){e.splice(p--,1);var u=o();void 0!==u&&(r=u)}}return r}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[t,o,s]},l.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={521:0,173:0};l.O.j=r=>0===e[r];var r=(r,t)=>{var o,s,[n,a,i]=t,u=0;if(n.some((r=>0!==e[r]))){for(o in a)l.o(a,o)&&(l.m[o]=a[o]);if(i)var p=i(l)}for(r&&r(t);u<n.length;u++)s=n[u],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return l.O(p)},t=globalThis.webpackChunksmartforms=globalThis.webpackChunksmartforms||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var o=l.O(void 0,[173],(()=>l(235)));o=l.O(o)})();