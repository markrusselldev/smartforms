(()=>{"use strict";var e,r={235:()=>{const e=window.wp.blocks,r=window.wp.i18n,t=window.wp.blockEditor,s=window.wp.components,o=window.wp.element,a=window.ReactJSXRuntime,l=[{label:"Option 1",value:"option-1"},{label:"Option 2",value:"option-2"}];(0,e.registerBlockType)("smartforms/buttons",{edit:({attributes:e,setAttributes:n,clientId:i})=>{const{label:p,helpText:u,requiredMessage:d,required:c,options:m,groupId:b}=e,h=(0,t.useBlockProps)();return(0,o.useEffect)((()=>{b||n({groupId:`sf-buttons-${i}`}),m&&Array.isArray(m)&&0!==m.length||n({options:l})}),[b,m,i,n]),(0,a.jsxs)("div",{...h,children:[(0,a.jsxs)(t.InspectorControls,{children:[(0,a.jsxs)(s.PanelBody,{title:(0,r.__)("Button Group Settings","smartforms"),children:[(0,a.jsx)(s.ToggleControl,{label:(0,r.__)("Required","smartforms"),checked:c,onChange:e=>n({required:e})}),c&&(0,a.jsx)(s.TextControl,{label:(0,r.__)("Required Message","smartforms"),value:d,onChange:e=>n({requiredMessage:e}),onBlur:()=>{""===d.trim()&&n({requiredMessage:"This field is required."})},placeholder:(0,r.__)("This field is required.","smartforms")}),(0,a.jsx)(s.TextControl,{label:(0,r.__)("Help Text","smartforms"),value:u,onChange:e=>n({helpText:e}),placeholder:(0,r.__)("Enter your help text","smartforms")})]}),(0,a.jsxs)(s.PanelBody,{title:(0,r.__)("Button Options","smartforms"),initialOpen:!0,children:[m&&m.map(((e,t)=>(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(s.TextControl,{label:`${(0,r.__)("Option","smartforms")} ${t+1}`,value:e.label,onChange:e=>((e,r)=>{const t=m.map(((t,s)=>s===e?{label:r,value:r.toLowerCase().replace(/\s+/g,"-")}:t));n({options:t})})(t,e)}),(0,a.jsx)(s.Button,{isSecondary:!0,onClick:()=>(e=>{const r=m.filter(((r,t)=>t!==e));n({options:r})})(t),isSmall:!0,children:(0,r.__)("Remove Option","smartforms")})]},t))),(0,a.jsx)(s.Button,{isPrimary:!0,onClick:()=>{let e=0;m.forEach((r=>{const t=r.label.match(/^Option (\d+)$/);if(t){const r=parseInt(t[1],10);r>e&&(e=r)}}));const r=`Option ${e+1}`,t=r.toLowerCase().replace(/\s+/g,"-"),s=[...m,{label:r,value:t}];n({options:s})},children:(0,r.__)("Add Option","smartforms")})]})]}),(0,a.jsx)(t.RichText,{tagName:"label",className:"sf-buttons-main-label",value:p,onChange:e=>n({label:e}),placeholder:(0,r.__)("Type your question here...","smartforms")}),(0,a.jsx)("div",{className:"sf-buttons-group d-flex flex-wrap gap-2",role:"group","data-group-id":b,children:m&&m.map(((e,r)=>(0,a.jsx)("button",{type:"button",className:"btn btn-primary","data-value":e.value,children:e.label},r)))})]})},save:({attributes:e})=>{const{label:r,options:s,required:o,helpText:l,requiredMessage:n,groupId:i}=e,p=t.useBlockProps.save();return(0,a.jsxs)("div",{...p,children:[(0,a.jsx)("label",{className:"sf-buttons-main-label",children:r}),(0,a.jsx)("div",{className:"sf-buttons-group d-flex flex-wrap gap-2",role:"group","data-group-id":i,children:s&&s.map(((e,r)=>(0,a.jsx)("button",{type:"button",className:"btn btn-primary","data-value":e.value,children:e.label},r)))}),(0,a.jsx)("input",{type:"hidden",name:i,required:o,"data-required-message":n})]})}})}},t={};function s(e){var o=t[e];if(void 0!==o)return o.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,s),a.exports}s.m=r,e=[],s.O=(r,t,o,a)=>{if(!t){var l=1/0;for(u=0;u<e.length;u++){for(var[t,o,a]=e[u],n=!0,i=0;i<t.length;i++)(!1&a||l>=a)&&Object.keys(s.O).every((e=>s.O[e](t[i])))?t.splice(i--,1):(n=!1,a<l&&(l=a));if(n){e.splice(u--,1);var p=o();void 0!==p&&(r=p)}}return r}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[t,o,a]},s.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={521:0,173:0};s.O.j=r=>0===e[r];var r=(r,t)=>{var o,a,[l,n,i]=t,p=0;if(l.some((r=>0!==e[r]))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(i)var u=i(s)}for(r&&r(t);p<l.length;p++)a=l[p],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},t=globalThis.webpackChunksmartforms=globalThis.webpackChunksmartforms||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var o=s.O(void 0,[173],(()=>s(235)));o=s.O(o)})();